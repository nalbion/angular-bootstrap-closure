(function(){function n(b,f,m,c){b=c[0];if(c=c[1])b.e(c,f),c.$render()}
function q(b,f,m,c){var g={},h=parseInt(f.min,10)||0,k=parseInt(f.max,10)||100,l=parseFloat(f.step)||1,p=b.legend();this.e=function(a,e){function d(a){"click"==a.type?b.b():(a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.returnValue=!1);a=a.clientX;var c=e[0].offsetLeft,d=e[0].offsetWidth;b.a(a<=c?h:a>=c+d?k:h+(a-c)/d*(k-h))}g=a;g.$render=this.g;console.info("initial model value: ",g.$modelValue);console.info("initial view value: ",g.$viewValue);e=
e.find("div");var c=e.find("span"),f=b.d=function(a){a.target.parentElement.focus();b.isTipOpen=!0;var e=angular.element(m);e.on("mousemove",d);e.one("mouseup",function(){b.isTipOpen=!1;e.off("mousemove",d);c.one("mousedown",b.d)})};e.on("click",d);c.one("mousedown",f);e.on("$destroy",function(){e.off("click",d);c.off("mousedown",f)})};this.g=function(){if(!isNaN(g.$viewValue)){var a=parseFloat(g.$viewValue);b.c(a);b.value=a}};b.c=function(a){b.left=(a-h)/(k-h)*100};b.a=function(a){if(a>=h&&a<=k&&
a!=g.$viewValue){a=Math.round(a/l)*l;b.c(a);b.value=a;var c,d;for(d in p){d=parseInt(d,10);if(d>a)break;c=p[d]}b.hint=c;g.$setViewValue(a)}};b.onKeydown=function(a){/(37|38|39|40)/.test(a.which)&&(a.preventDefault(),a.stopPropagation(),console.info(38===a.which||39===a.which?"right":"left"),b.a(b.value+(38===a.which||39===a.which?l:-l)),b.b())};b.b=function(){b.isTipOpen=!0;c(function(){b.isTipOpen=!1},1E3)}}q.$inject=["$scope","$attrs","$window","$timeout"];
var r=angular.module("abc.slider",[]).controller("SliderController",q).directive("abcSlider",function(){return{restrict:"EA",replace:!0,require:["abcSlider","ngModel"],controller:"SliderController",scope:{min:"@",max:"@",step:"@",h:"@",f:"&"},templateUrl:"template/slider.html",link:n}}).directive("abcSliderGroup",function(){return{restrict:"C",scope:{h:"@",f:"@"},transclude:!0,templateUrl:"template/slider-group.html"}});angular.module("abc.templates",[]).run(["$templateCache",function(b){b.put("template/slider-group.html",'\x3c!--<div class="ui-slider-group">--\x3e\n    <div ng-if="tooltip" class="tooltip top fade in" ng-class="{in: isTipOpen}"\n         ng-style="{left: left + \'%\'}">\n        <div class="tooltip-arrow"></div>\n        <div class="tooltip-inner" ng-bind="value"></div>\n    </div>\n    <ng-transclude></ng-transclude>\n    <p ng-if="legend" class="hint">{{hint}}</p>\n\x3c!--</div>--\x3e\n');b.put("template/slider.html",
'<div class="ui-slider-group">\n    <div class="ui-slider" ng-keydown="onKeydown($event)"\n        tabindex="0" role="slider" aria-valuemin="{{min}}" aria-valuemax="{{max}}" aria-valuenow="{{value}}">\n        <div ng-if="tooltip" class="tooltip top fade" ng-class="{in: isTipOpen}"\n             ng-style="{left: left + \'%\'}">\n            <div class="tooltip-arrow"></div>\n            <div class="tooltip-inner" ng-bind="value"></div>\n        </div>\n        <span class="ui-slider-handle" ng-style="{left: left + \'%\'}"></span>\n    </div>\n    <p class="hint">{{hint}}</p>\n</div>\n')}]);angular.module("abc",["abc.templates",r.name]);}).call(this);
